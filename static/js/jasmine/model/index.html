<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script type="text/javascript" src="model-1.0.2.js"></script>
</head>
<body>

</body>
</html>
<script>
    (function () {
        var users = [
            {id:1,name:'张三'},
            {id:2,name:'李四'},
            {id:3,name:'王五'},
            {id:4,name:'蔡森'}
        ];
        var roles = [
            {id:1,name:"管理员"},
            {id:2,name:"编辑"},
            {id:3,name:"普通会员"}
        ];
        var user_role_relations = [
            {uid:1,rid:2},
            {uid:3,rid:2},
            {uid:2,rid:1},
            {uid:4,rid:1}
        ];

        var results = M(users).debug(true).join('id',user_role_relations,'ur.uid').join('ur.rid',roles,'r.id').select();

        console.log(results);
    })();
</script>